#!/usr/bin/env php
<?php
/**
 * Command line interface.
 */
namespace coveralls\cli;

/**
 * @var string The version number of this package.
 */
const VERSION = '0.1.0';

/**
 * Prints the usage information.
 */
function printUsage() {
  echo 'Send a LCOV coverage report to the Coveralls service.', PHP_EOL;
  echo PHP_EOL;
  echo 'Usage:', PHP_EOL;
  echo 'coveralls -f <file>', PHP_EOL;
  echo PHP_EOL;
  echo 'Options:', PHP_EOL;
  echo '-f, --file       path to the LCOV coverage report', PHP_EOL;
  echo '-h, --help       output usage information', PHP_EOL;
  echo '-v, --version    output the version number', PHP_EOL;
}

// Parse the command line arguments.
$options = getopt('f:hv', ['file:', 'help', 'version']);

if (isset($options['h']) || isset($options['help'])) {
  printUsage();
  exit();
}

if (isset($options['v']) || isset($options['version'])) {
  echo 'v', VERSION, PHP_EOL;
  exit();
}

if (!isset($options['p']) && !isset($options['path'])){
  printUsage();
  exit(1);
}
